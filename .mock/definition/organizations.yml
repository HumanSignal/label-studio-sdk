imports:
  root: __package__.yml
service:
  auth: false
  base-path: ''
  endpoints:
    reset_token:
      path: /api/invite/reset-token
      method: POST
      auth: true
      docs: >-
        Reset the token used in the invitation link to invite someone to an
        organization.
      source:
        openapi: openapi/openapi.yaml
      display-name: Reset organization token
      response:
        docs: ''
        type: root.OrganizationInvite
      examples:
        - response:
            body:
              token: token
              invite_url: invite_url
      audiences:
        - public
    list:
      path: /api/organizations/
      method: GET
      auth: true
      docs: |2-

                Return a list of the organizations you've created or that you have access to.
                
      source:
        openapi: openapi/openapi.yaml
      display-name: List your organizations
      request:
        name: OrganizationsListRequest
        query-parameters:
          ordering:
            type: optional<string>
            docs: Which field to use when ordering the results.
      response:
        docs: ''
        type: list<root.OrganizationId>
      examples:
        - response:
            body:
              - id: 1
                title: title
                contact_info: contact_info
                created_at: '2024-01-15T09:30:00Z'
      audiences:
        - public
    get:
      path: /api/organizations/{id}
      method: GET
      auth: true
      docs: Retrieve the settings for a specific organization by ID.
      source:
        openapi: openapi/openapi.yaml
      path-parameters:
        id: integer
      display-name: Get organization settings
      response:
        docs: ''
        type: root.LseOrganization
      examples:
        - path-parameters:
            id: 1
          response:
            body:
              id: 1
              external_id: external_id
              title: title
              token: token
              default_role: OW
              created_at: '2024-01-15T09:30:00Z'
              billing:
                manual_workspace_management: manual_workspace_management
                manual_role_management: manual_role_management
              embed_domains:
                key: value
              embed_settings:
                key: value
              custom_scripts_enabled: custom_scripts_enabled
              custom_scripts_editable_by: AD
              email_notification_settings: email_notification_settings
      audiences:
        - public
    api_organizations_partial_update:
      path: /api/organizations/{id}
      method: PATCH
      auth: true
      docs: >-
        Update organization details including title, embed domains, and custom
        scripts settings.
      source:
        openapi: openapi/openapi.yaml
      path-parameters:
        id: integer
      display-name: Update organization
      request:
        name: PatchedLseOrganizationSerializerUpdateRequest
        body:
          properties:
            title:
              type: optional<string>
              validation:
                minLength: 1
            embed_domains: optional<list<map<string, string>>>
            custom_scripts_enabled: optional<boolean>
            custom_scripts_editable_by:
              type: optional<string>
              validation:
                minLength: 1
            embed_settings: optional<unknown>
            email_notification_settings: optional<unknown>
            token:
              type: optional<string>
              validation:
                maxLength: 256
            contact_info:
              type: optional<string>
              validation:
                format: email
                maxLength: 254
            created_by: optional<integer>
        content-type: application/json
      response:
        docs: ''
        type: root.LseOrganization
      errors:
        - root.BadRequestError
        - root.ForbiddenError
        - root.NotFoundError
      examples:
        - path-parameters:
            id: 1
          request: {}
          response:
            body:
              id: 1
              external_id: external_id
              title: title
              token: token
              default_role: OW
              created_at: '2024-01-15T09:30:00Z'
              billing:
                manual_workspace_management: manual_workspace_management
                manual_role_management: manual_role_management
              embed_domains:
                key: value
              embed_settings:
                key: value
              custom_scripts_enabled: custom_scripts_enabled
              custom_scripts_editable_by: AD
              email_notification_settings: email_notification_settings
  source:
    openapi: openapi/openapi.yaml
