imports:
  root: __package__.yml
service:
  auth: false
  base-path: ''
  endpoints:
    batch_failed_predictions:
      path: /api/model-run/batch-failed-predictions
      method: POST
      auth: true
      docs: Create a new batch of failed predictions.
      source:
        openapi: openapi/openapi.yaml
      display-name: Create batch of failed predictions
      request:
        name: BatchFailedPredictionsRequestRequest
        query-parameters:
          num_failed_predictions:
            type: optional<integer>
            docs: >-
              Number of failed predictions being sent (for telemetry only, has
              no effect)
        body:
          properties:
            failed_predictions: list<unknown>
            job_id:
              type: optional<string>
              validation:
                minLength: 1
                maxLength: 255
            modelrun_id: integer
        content-type: application/json
      response:
        docs: ''
        type: root.BatchFailedPredictions
      examples:
        - request:
            failed_predictions: []
            modelrun_id: 1
          response:
            body:
              failed_predictions:
                - key: value
              job_id: job_id
      audiences:
        - public
    batch_predictions:
      path: /api/model-run/batch-predictions
      method: POST
      auth: true
      docs: Create a new batch prediction.
      source:
        openapi: openapi/openapi.yaml
      display-name: Create batch predictions
      request:
        name: BatchPredictionsRequestRequest
        query-parameters:
          num_predictions:
            type: optional<integer>
            docs: >-
              Number of predictions being sent (for telemetry only, has no
              effect)
        body:
          properties:
            job_id:
              type: optional<string>
              validation:
                minLength: 1
                maxLength: 255
            modelrun_id: integer
            results: list<unknown>
        content-type: application/json
      response:
        docs: ''
        type: root.BatchPredictions
      examples:
        - request:
            modelrun_id: 1
            results: []
          response:
            body:
              job_id: job_id
              results:
                - key: value
      audiences:
        - public
    list:
      path: /api/prompts/
      method: GET
      auth: true
      docs: List all prompts.
      source:
        openapi: openapi/openapi.yaml
      display-name: List prompts
      request:
        name: PromptsListRequest
        query-parameters:
          ordering:
            type: optional<string>
            docs: Which field to use when ordering the results.
      response:
        docs: ''
        type: list<root.ModelInterfaceSerializerGet>
      examples:
        - response:
            body:
              - associated_projects:
                  - id: 1
                created_at: '2024-01-15T09:30:00Z'
                created_by:
                  avatar: avatar
                  email: email
                  first_name: first_name
                  id: 1
                  last_name: last_name
                description: description
                id: 1
                input_fields:
                  key: value
                organization: 1
                output_classes:
                  key: value
                skill_name: TextClassification
                title: title
                updated_at: '2024-01-15T09:30:00Z'
      audiences:
        - public
    create:
      path: /api/prompts/
      method: POST
      auth: true
      docs: Create a new prompt.
      source:
        openapi: openapi/openapi.yaml
      display-name: Create prompt
      request:
        body: root.ModelInterfaceRequest
        content-type: application/json
      response:
        docs: ''
        type: root.ModelInterface
      examples:
        - request:
            title: title
          response:
            body:
              associated_projects:
                - 1
              created_at: '2024-01-15T09:30:00Z'
              created_by:
                avatar: avatar
                email: email
                first_name: first_name
                id: 1
                last_name: last_name
              description: description
              id: 1
              input_fields:
                key: value
              organization: 1
              output_classes:
                key: value
              skill_name: TextClassification
              title: title
              updated_at: '2024-01-15T09:30:00Z'
      audiences:
        - public
    compatible_projects:
      path: /api/prompts/compatible-projects
      method: GET
      auth: true
      docs: Retrieve a list of compatible project for prompt.
      source:
        openapi: openapi/openapi.yaml
      display-name: List projects compatible with prompt
      request:
        name: PromptsCompatibleProjectsRequest
        query-parameters:
          ordering:
            type: optional<string>
            docs: Which field to use when ordering the results.
          page:
            type: optional<integer>
            docs: A page number within the paginated result set.
          page_size:
            type: optional<integer>
            docs: Number of results to return per page.
          project_type:
            type: optional<PromptsCompatibleProjectsRequestProjectType>
            default: TextClassification
            docs: Skill to filter by
      response:
        docs: ''
        type: root.PaginatedAllRolesProjectListList
      examples:
        - response:
            body:
              count: 123
              next: http://api.example.org/accounts/?page=4
              previous: http://api.example.org/accounts/?page=2
              results:
                - allow_stream: allow_stream
                  annotation_limit_count: 1
                  annotation_limit_percent: annotation_limit_percent
                  annotator_evaluation_minimum_score: annotator_evaluation_minimum_score
                  annotator_evaluation_minimum_tasks: 1
                  assignment_settings:
                    id: 1
                  blueprints:
                    - created_at: '2024-01-15T09:30:00Z'
                      id: 1
                      share_id: share_id
                      short_url: short_url
                  color: color
                  comment_classification_config: comment_classification_config
                  config_has_control_tags: true
                  config_suitable_for_bulk_annotation: true
                  control_weights:
                    key: value
                  created_at: '2024-01-15T09:30:00Z'
                  created_by:
                    avatar: avatar
                    id: 1
                  custom_script: custom_script
                  custom_task_lock_ttl: 1
                  data_types:
                    key: value
                  description: description
                  description_short: description_short
                  duplication_done: true
                  duplication_status: duplication_status
                  enable_empty_annotation: true
                  evaluate_predictions_automatically: true
                  expert_instruction: expert_instruction
                  finished_task_number: 1
                  ground_truth_number: 1
                  has_blueprints: has_blueprints
                  id: 1
                  is_draft: true
                  is_published: true
                  label_config: label_config
                  maximum_annotations: 1
                  members: members
                  members_count: 1
                  min_annotations_to_start_training: 1
                  model_version: model_version
                  num_tasks_with_annotations: num_tasks_with_annotations
                  organization: 1
                  overlap_cohort_percentage: 1
                  parsed_label_config:
                    key: value
                  pause_on_failed_annotator_evaluation: true
                  pinned_at: '2024-01-15T09:30:00Z'
                  prompts: prompts
                  queue_done: queue_done
                  queue_left: queue_left
                  queue_total: queue_total
                  ready: ready
                  rejected: rejected
                  require_comment_on_skip: true
                  reveal_preannotations_interactively: true
                  review_settings:
                    id: 1
                    requeue_rejected_tasks_to_annotator: true
                  review_total_tasks: review_total_tasks
                  reviewed_number: reviewed_number
                  reviewer_queue_total: reviewer_queue_total
                  sampling: Sequential sampling
                  show_annotation_history: true
                  show_collab_predictions: true
                  show_ground_truth_first: true
                  show_instruction: true
                  show_overlap_first: true
                  show_skip_button: true
                  skip_queue: REQUEUE_FOR_ME
                  skipped_annotations_number: skipped_annotations_number
                  start_training_on_annotation_update: true
                  task_number: 1
                  title: title
                  total_annotations_number: total_annotations_number
                  total_predictions_number: 1
                  useful_annotation_number: useful_annotation_number
                  workspace: workspace
                  workspace_title: workspace_title
      audiences:
        - public
    get:
      path: /api/prompts/{id}/
      method: GET
      auth: true
      docs: Retrieve a specific prompt.
      source:
        openapi: openapi/openapi.yaml
      path-parameters:
        id: string
      display-name: Get prompt
      response:
        docs: ''
        type: root.ModelInterfaceSerializerGet
      examples:
        - path-parameters:
            id: id
          response:
            body:
              associated_projects:
                - id: 1
                  title: title
              created_at: '2024-01-15T09:30:00Z'
              created_by:
                avatar: avatar
                email: email
                first_name: first_name
                id: 1
                last_name: last_name
              description: description
              id: 1
              input_fields:
                key: value
              organization: 1
              output_classes:
                key: value
              skill_name: TextClassification
              title: title
              updated_at: '2024-01-15T09:30:00Z'
      audiences:
        - public
    api_prompts_update:
      path: /api/prompts/{id}/
      method: PUT
      auth: true
      docs: Overwrite a specific prompt by ID.
      source:
        openapi: openapi/openapi.yaml
      path-parameters:
        id: string
      display-name: Put prompt
      request:
        body: root.ModelInterfaceRequest
        content-type: application/json
      response:
        docs: ''
        type: root.ModelInterface
      examples:
        - path-parameters:
            id: id
          request:
            title: title
          response:
            body:
              associated_projects:
                - 1
              created_at: '2024-01-15T09:30:00Z'
              created_by:
                avatar: avatar
                email: email
                first_name: first_name
                id: 1
                last_name: last_name
              description: description
              id: 1
              input_fields:
                key: value
              organization: 1
              output_classes:
                key: value
              skill_name: TextClassification
              title: title
              updated_at: '2024-01-15T09:30:00Z'
      audiences:
        - internal
    delete:
      path: /api/prompts/{id}/
      method: DELETE
      auth: true
      docs: Delete a prompt by ID
      source:
        openapi: openapi/openapi.yaml
      path-parameters:
        id: string
      display-name: Delete prompt
      examples:
        - path-parameters:
            id: id
      audiences:
        - public
    update:
      path: /api/prompts/{id}/
      method: PATCH
      auth: true
      docs: Update a specific prompt by ID.
      source:
        openapi: openapi/openapi.yaml
      path-parameters:
        id: string
      display-name: Update prompt
      request:
        name: PatchedModelInterfaceRequest
        body:
          properties:
            associated_projects: optional<list<integer>>
            created_by:
              type: optional<root.UserSimpleRequest>
              docs: User who created Dataset
            description:
              type: optional<string>
              docs: Model description
            input_fields: optional<unknown>
            organization: optional<integer>
            output_classes: optional<unknown>
            skill_name: optional<root.SkillNameEnum>
            title:
              type: optional<string>
              docs: Model name
              validation:
                minLength: 1
                maxLength: 500
        content-type: application/json
      response:
        docs: ''
        type: root.ModelInterface
      examples:
        - path-parameters:
            id: id
          request: {}
          response:
            body:
              associated_projects:
                - 1
              created_at: '2024-01-15T09:30:00Z'
              created_by:
                avatar: avatar
                email: email
                first_name: first_name
                id: 1
                last_name: last_name
              description: description
              id: 1
              input_fields:
                key: value
              organization: 1
              output_classes:
                key: value
              skill_name: TextClassification
              title: title
              updated_at: '2024-01-15T09:30:00Z'
      audiences:
        - public
    api_prompts_versions_update:
      path: /api/prompts/{prompt_id}/versions/{version_id}
      method: PUT
      auth: true
      docs: Overwrite a specific prompt version by ID.
      source:
        openapi: openapi/openapi.yaml
      path-parameters:
        prompt_id: integer
        version_id: integer
      display-name: Put prompt version
      request:
        body: root.ThirdPartyModelVersionRequest
        content-type: application/json
      response:
        docs: ''
        type: root.ThirdPartyModelVersion
      examples:
        - path-parameters:
            prompt_id: 1
            version_id: 1
          request:
            prompt: prompt
            provider_model_id: provider_model_id
            title: title
          response:
            body:
              created_at: '2024-01-15T09:30:00Z'
              created_by:
                avatar: avatar
                email: email
                first_name: first_name
                id: 1
                last_name: last_name
              id: 1
              model_provider_connection: 1
              organization: 1
              parent_model: 1
              prompt: prompt
              provider: OpenAI
              provider_model_id: provider_model_id
              score: score
              title: title
              updated_at: '2024-01-15T09:30:00Z'
      audiences:
        - internal
    api_prompts_versions_inference_runs_cancel_create:
      path: >-
        /api/prompts/{prompt_id}/versions/{version_id}/inference-runs/{inference_run_id}/cancel
      method: POST
      auth: true
      docs: Cancel the inference run for the given api
      source:
        openapi: openapi/openapi.yaml
      path-parameters:
        inference_run_id: integer
        prompt_id: integer
        version_id: integer
      display-name: Cancel Inference Run API
      examples:
        - path-parameters:
            inference_run_id: 1
            prompt_id: 1
            version_id: 1
  source:
    openapi: openapi/openapi.yaml
types:
  PromptsCompatibleProjectsRequestProjectType:
    enum:
      - NamedEntityRecognition
      - TextClassification
    default: TextClassification
    source:
      openapi: openapi/openapi.yaml
