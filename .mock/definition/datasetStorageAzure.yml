imports:
  root: __package__.yml
service:
  auth: false
  base-path: ''
  endpoints:
    api_dataset_storages_azure_list:
      path: /api/dataset-storages/azure/
      method: GET
      auth: true
      docs: Get a list of all Azure import storage connections.
      source:
        openapi: openapi/openapi.yaml
      display-name: Get all import storage
      request:
        name: ApiDatasetStoragesAzureListRequest
        query-parameters:
          dataset:
            type: optional<integer>
            docs: Dataset ID
          ordering:
            type: optional<string>
            docs: Which field to use when ordering the results.
      response:
        docs: ''
        type: list<root.AzureDatasetStorage>
      examples:
        - response:
            body:
              - account_key: account_key
                account_name: account_name
                container: container
                created_at: '2024-01-15T09:30:00Z'
                dataset: 1
                description: description
                glob_pattern: glob_pattern
                id: 1
                job_id: job_id
                last_sync: '2024-01-15T09:30:00Z'
                last_sync_count: 1
                last_sync_job: last_sync_job
                meta:
                  key: value
                prefix: prefix
                presign: true
                presign_ttl: 1
                recursive_scan: true
                regex_filter: regex_filter
                status: initialized
                synced: true
                synchronizable: true
                title: title
                traceback: traceback
                type: type
                use_blob_urls: true
      audiences:
        - internal
    api_dataset_storages_azure_create:
      path: /api/dataset-storages/azure/
      method: POST
      auth: true
      docs: Create a new Azure import storage connection.
      source:
        openapi: openapi/openapi.yaml
      display-name: Create import storage
      request:
        body: root.AzureDatasetStorageRequest
        content-type: application/json
      response:
        docs: ''
        type: root.AzureDatasetStorage
      examples:
        - request:
            dataset: 1
          response:
            body:
              account_key: account_key
              account_name: account_name
              container: container
              created_at: '2024-01-15T09:30:00Z'
              dataset: 1
              description: description
              glob_pattern: glob_pattern
              id: 1
              job_id: job_id
              last_sync: '2024-01-15T09:30:00Z'
              last_sync_count: 1
              last_sync_job: last_sync_job
              meta:
                key: value
              prefix: prefix
              presign: true
              presign_ttl: 1
              recursive_scan: true
              regex_filter: regex_filter
              status: initialized
              synced: true
              synchronizable: true
              title: title
              traceback: traceback
              type: type
              use_blob_urls: true
      audiences:
        - internal
    api_dataset_storages_azure_check_for_records_create:
      path: /api/dataset-storages/azure/check-for-records/
      method: POST
      auth: true
      docs: >-
        Checks for existence of records matching the file pattern in the
        bucket/prefix
      source:
        openapi: openapi/openapi.yaml
      display-name: Check for records given the file pattern
      request:
        body: root.AzureDatasetStorageRequest
        content-type: application/json
      response:
        docs: ''
        type: root.AzureDatasetStorage
      examples:
        - request:
            dataset: 1
          response:
            body:
              account_key: account_key
              account_name: account_name
              container: container
              created_at: '2024-01-15T09:30:00Z'
              dataset: 1
              description: description
              glob_pattern: glob_pattern
              id: 1
              job_id: job_id
              last_sync: '2024-01-15T09:30:00Z'
              last_sync_count: 1
              last_sync_job: last_sync_job
              meta:
                key: value
              prefix: prefix
              presign: true
              presign_ttl: 1
              recursive_scan: true
              regex_filter: regex_filter
              status: initialized
              synced: true
              synchronizable: true
              title: title
              traceback: traceback
              type: type
              use_blob_urls: true
      audiences:
        - internal
    api_dataset_storages_azure_validate_create:
      path: /api/dataset-storages/azure/validate/
      method: POST
      auth: true
      docs: Validate a specific Azure import storage connection.
      source:
        openapi: openapi/openapi.yaml
      display-name: Validate import storage
      request:
        body: root.AzureDatasetStorageRequest
        content-type: application/json
      response:
        docs: ''
        type: root.AzureDatasetStorage
      examples:
        - request:
            dataset: 1
          response:
            body:
              account_key: account_key
              account_name: account_name
              container: container
              created_at: '2024-01-15T09:30:00Z'
              dataset: 1
              description: description
              glob_pattern: glob_pattern
              id: 1
              job_id: job_id
              last_sync: '2024-01-15T09:30:00Z'
              last_sync_count: 1
              last_sync_job: last_sync_job
              meta:
                key: value
              prefix: prefix
              presign: true
              presign_ttl: 1
              recursive_scan: true
              regex_filter: regex_filter
              status: initialized
              synced: true
              synchronizable: true
              title: title
              traceback: traceback
              type: type
              use_blob_urls: true
      audiences:
        - internal
    api_dataset_storages_azure_retrieve:
      path: /api/dataset-storages/azure/{id}/
      method: GET
      auth: true
      docs: Get a specific Azure import storage connection.
      source:
        openapi: openapi/openapi.yaml
      path-parameters:
        id: integer
      display-name: Get import storage
      response:
        docs: ''
        type: root.AzureDatasetStorage
      examples:
        - path-parameters:
            id: 1
          response:
            body:
              account_key: account_key
              account_name: account_name
              container: container
              created_at: '2024-01-15T09:30:00Z'
              dataset: 1
              description: description
              glob_pattern: glob_pattern
              id: 1
              job_id: job_id
              last_sync: '2024-01-15T09:30:00Z'
              last_sync_count: 1
              last_sync_job: last_sync_job
              meta:
                key: value
              prefix: prefix
              presign: true
              presign_ttl: 1
              recursive_scan: true
              regex_filter: regex_filter
              status: initialized
              synced: true
              synchronizable: true
              title: title
              traceback: traceback
              type: type
              use_blob_urls: true
      audiences:
        - internal
    api_dataset_storages_azure_destroy:
      path: /api/dataset-storages/azure/{id}/
      method: DELETE
      auth: true
      docs: Delete a specific Azure import storage connection.
      source:
        openapi: openapi/openapi.yaml
      path-parameters:
        id: integer
      display-name: Delete import storage
      examples:
        - path-parameters:
            id: 1
      audiences:
        - internal
    api_dataset_storages_azure_partial_update:
      path: /api/dataset-storages/azure/{id}/
      method: PATCH
      auth: true
      docs: Update a specific Azure import storage connection.
      source:
        openapi: openapi/openapi.yaml
      path-parameters:
        id: integer
      display-name: Update import storage
      request:
        name: PatchedAzureDatasetStorageRequest
        body:
          properties:
            account_key:
              type: optional<string>
              docs: Azure Blob account key
            account_name:
              type: optional<string>
              docs: Azure Blob account name
            container:
              type: optional<string>
              docs: Azure blob container
            dataset:
              type: optional<integer>
              docs: A unique integer value identifying this dataset.
            description:
              type: optional<string>
              docs: Cloud storage description
            glob_pattern:
              type: optional<string>
              docs: Glob pattern for syncing from bucket
            last_sync:
              type: optional<datetime>
              docs: Last sync finished time
            last_sync_count:
              type: optional<integer>
              docs: Count of tasks synced last time
              validation:
                min: 0
                max: 2147483647
            last_sync_job:
              type: optional<string>
              docs: Last sync job ID
              validation:
                maxLength: 256
            meta: optional<unknown>
            prefix:
              type: optional<string>
              docs: Azure blob prefix name
            presign:
              type: optional<boolean>
              default: true
            presign_ttl:
              type: optional<integer>
              docs: Presigned URLs TTL (in minutes)
              validation:
                min: 0
                max: 32767
            recursive_scan:
              type: optional<boolean>
              docs: Perform recursive scan over the container content
            regex_filter:
              type: optional<string>
              docs: Cloud storage regex for filtering objects
            status: optional<root.StatusC5AEnum>
            synced:
              type: optional<boolean>
              docs: Flag if dataset has been previously synced or not
            synchronizable:
              type: optional<boolean>
              default: true
            title:
              type: optional<string>
              docs: Cloud storage title
              validation:
                maxLength: 256
            traceback:
              type: optional<string>
              docs: Traceback report for the last failed sync
            use_blob_urls:
              type: optional<boolean>
              docs: Interpret objects as BLOBs and generate URLs
        content-type: application/json
      response:
        docs: ''
        type: root.AzureDatasetStorage
      examples:
        - path-parameters:
            id: 1
          request: {}
          response:
            body:
              account_key: account_key
              account_name: account_name
              container: container
              created_at: '2024-01-15T09:30:00Z'
              dataset: 1
              description: description
              glob_pattern: glob_pattern
              id: 1
              job_id: job_id
              last_sync: '2024-01-15T09:30:00Z'
              last_sync_count: 1
              last_sync_job: last_sync_job
              meta:
                key: value
              prefix: prefix
              presign: true
              presign_ttl: 1
              recursive_scan: true
              regex_filter: regex_filter
              status: initialized
              synced: true
              synchronizable: true
              title: title
              traceback: traceback
              type: type
              use_blob_urls: true
      audiences:
        - internal
    api_dataset_storages_azure_columns_retrieve:
      path: /api/dataset-storages/azure/{id}/columns/
      method: GET
      auth: true
      docs: Retrieves column names from users JSON/blob data in bucket
      source:
        openapi: openapi/openapi.yaml
      path-parameters:
        id: integer
      display-name: Get data column names from storage
      examples:
        - path-parameters:
            id: 1
      audiences:
        - internal
    api_dataset_storages_azure_sync_create:
      path: /api/dataset-storages/azure/{id}/sync/
      method: POST
      auth: true
      docs: Sync tasks from an Azure import storage connection.
      source:
        openapi: openapi/openapi.yaml
      path-parameters:
        id: integer
      display-name: Sync import storage
      request:
        body: root.AzureDatasetStorageRequest
        content-type: application/json
      response:
        docs: ''
        type: root.AzureDatasetStorage
      examples:
        - path-parameters:
            id: 1
          request:
            dataset: 1
          response:
            body:
              account_key: account_key
              account_name: account_name
              container: container
              created_at: '2024-01-15T09:30:00Z'
              dataset: 1
              description: description
              glob_pattern: glob_pattern
              id: 1
              job_id: job_id
              last_sync: '2024-01-15T09:30:00Z'
              last_sync_count: 1
              last_sync_job: last_sync_job
              meta:
                key: value
              prefix: prefix
              presign: true
              presign_ttl: 1
              recursive_scan: true
              regex_filter: regex_filter
              status: initialized
              synced: true
              synchronizable: true
              title: title
              traceback: traceback
              type: type
              use_blob_urls: true
      audiences:
        - internal
  source:
    openapi: openapi/openapi.yaml
