service:
  auth: false
  base-path: ''
  endpoints:
    get_default_version_name:
      path: /api/prompts/{id}/get-default-version-name
      method: GET
      auth: true
      docs: Get default prompt version name
      source:
        openapi: openapi/openapi.yaml
      path-parameters:
        id: integer
      display-name: Get default prompt version name
      examples:
        - path-parameters:
            id: 1
      audiences:
        - public
    list:
      path: /api/prompts/{prompt_id}/versions
      method: GET
      auth: true
      docs: List all versions of a prompt.
      source:
        openapi: openapi/openapi.yaml
      path-parameters:
        prompt_id: integer
      display-name: List prompt versions
      request:
        name: VersionsListRequest
        query-parameters:
          ordering:
            type: optional<string>
            docs: Which field to use when ordering the results.
          prompt_id:
            type: integer
            docs: >-
              A unique integer value identifying the model ID to list versions
              for.
      response:
        docs: ''
        type: list<root.ThirdPartyModelVersion>
      examples:
        - path-parameters:
            prompt_id: 1
          query-parameters:
            prompt_id: 1
          response:
            body:
              - created_at: '2024-01-15T09:30:00Z'
                created_by:
                  avatar: avatar
                  email: email
                  first_name: first_name
                  id: 1
                  last_name: last_name
                id: 1
                model_provider_connection: 1
                organization: 1
                parent_model: 1
                prompt: prompt
                provider: OpenAI
                provider_model_id: provider_model_id
                score: score
                title: title
                updated_at: '2024-01-15T09:30:00Z'
      audiences:
        - public
    create:
      path: /api/prompts/{prompt_id}/versions
      method: POST
      auth: true
      docs: Create a new version of a prompt.
      source:
        openapi: openapi/openapi.yaml
      path-parameters:
        prompt_id: integer
      display-name: Create prompt version
      request:
        body: root.ThirdPartyModelVersionRequest
        content-type: application/json
      response:
        docs: ''
        type: root.ThirdPartyModelVersion
      examples:
        - path-parameters:
            prompt_id: 1
          request:
            prompt: prompt
            provider_model_id: provider_model_id
            title: title
          response:
            body:
              created_at: '2024-01-15T09:30:00Z'
              created_by:
                avatar: avatar
                email: email
                first_name: first_name
                id: 1
                last_name: last_name
              id: 1
              model_provider_connection: 1
              organization: 1
              parent_model: 1
              prompt: prompt
              provider: OpenAI
              provider_model_id: provider_model_id
              score: score
              title: title
              updated_at: '2024-01-15T09:30:00Z'
      audiences:
        - public
    get:
      path: /api/prompts/{prompt_id}/versions/{version_id}
      method: GET
      auth: true
      docs: Retrieve a specific prompt of a model.
      source:
        openapi: openapi/openapi.yaml
      path-parameters:
        prompt_id: integer
        version_id: integer
      display-name: Get prompt version
      response:
        docs: ''
        type: root.ThirdPartyModelVersion
      examples:
        - path-parameters:
            prompt_id: 1
            version_id: 1
          response:
            body:
              created_at: '2024-01-15T09:30:00Z'
              created_by:
                avatar: avatar
                email: email
                first_name: first_name
                id: 1
                last_name: last_name
              id: 1
              model_provider_connection: 1
              organization: 1
              parent_model: 1
              prompt: prompt
              provider: OpenAI
              provider_model_id: provider_model_id
              score: score
              title: title
              updated_at: '2024-01-15T09:30:00Z'
      audiences:
        - public
    delete:
      path: /api/prompts/{prompt_id}/versions/{version_id}
      method: DELETE
      auth: true
      docs: Delete a prompt version by ID
      source:
        openapi: openapi/openapi.yaml
      path-parameters:
        prompt_id: integer
        version_id: integer
      display-name: Delete prompt version
      examples:
        - path-parameters:
            prompt_id: 1
            version_id: 1
      audiences:
        - public
    update:
      path: /api/prompts/{prompt_id}/versions/{version_id}
      method: PATCH
      auth: true
      docs: Update a specific prompt version by ID.
      source:
        openapi: openapi/openapi.yaml
      path-parameters:
        prompt_id: integer
        version_id: integer
      display-name: Update prompt version
      request:
        name: PatchedThirdPartyModelVersionRequest
        body:
          properties:
            model_provider_connection: optional<integer>
            organization: optional<integer>
            parent_model:
              type: optional<integer>
              docs: Parent model interface ID
            prompt:
              type: optional<string>
              docs: Prompt to execute
              validation:
                minLength: 1
            provider:
              type: optional<root.ProviderEnum>
              docs: |-
                The model provider to use e.g. OpenAI

                * `OpenAI` - OpenAI
                * `AzureOpenAI` - AzureOpenAI
                * `AzureAIFoundry` - AzureAIFoundry
                * `VertexAI` - VertexAI
                * `Gemini` - Gemini
                * `Anthropic` - Anthropic
                * `Custom` - Custom
            provider_model_id:
              type: optional<string>
              docs: The model ID to use within the given provider, e.g. gpt-3.5
              validation:
                minLength: 1
                maxLength: 255
            title:
              type: optional<string>
              docs: Model name
              validation:
                minLength: 1
                maxLength: 500
        content-type: application/json
      response:
        docs: ''
        type: root.ThirdPartyModelVersion
      examples:
        - path-parameters:
            prompt_id: 1
            version_id: 1
          request: {}
          response:
            body:
              created_at: '2024-01-15T09:30:00Z'
              created_by:
                avatar: avatar
                email: email
                first_name: first_name
                id: 1
                last_name: last_name
              id: 1
              model_provider_connection: 1
              organization: 1
              parent_model: 1
              prompt: prompt
              provider: OpenAI
              provider_model_id: provider_model_id
              score: score
              title: title
              updated_at: '2024-01-15T09:30:00Z'
      audiences:
        - public
    cost_estimate:
      path: /api/prompts/{prompt_id}/versions/{version_id}/cost-estimate
      method: GET
      auth: true
      docs: >-
        Get an estimate of the cost for making an inference run on the selected
        Prompt Version and Project/ProjectSubset
      source:
        openapi: openapi/openapi.yaml
      path-parameters:
        prompt_id: integer
        version_id: integer
      display-name: >-
        Get cost estimate for running a prompt version on a particular
        project/subset
      response:
        docs: Cost estimate response
        type: root.InferenceRunCostEstimate
      examples:
        - path-parameters:
            prompt_id: 1
            version_id: 1
          response:
            body:
              completion_cost_usd: completion_cost_usd
              error_message: error_message
              error_type: error_type
              is_error: true
              prompt_cost_usd: prompt_cost_usd
              total_cost_usd: total_cost_usd
      audiences:
        - public
    get_refined_prompt:
      path: /api/prompts/{prompt_id}/versions/{version_id}/refine
      method: GET
      auth: true
      docs: Get the refined prompt based on the `refinement_job_id`.
      source:
        openapi: openapi/openapi.yaml
      path-parameters:
        prompt_id: integer
        version_id: integer
      display-name: Get refined prompt
      request:
        name: VersionsGetRefinedPromptRequest
        query-parameters:
          refinement_job_id:
            type: optional<string>
            docs: >-
              Refinement Job ID acquired from the `POST
              /api/prompts/{prompt_id}/versions/{version_id}/refine` endpoint
      response:
        docs: Refined prompt response
        type: root.RefinedPromptResponse
      examples:
        - path-parameters:
            prompt_id: 1
            version_id: 1
          response:
            body:
              previous_version:
                created_at: '2024-01-15T09:30:00Z'
                created_by:
                  avatar: avatar
                  email: email
                  first_name: first_name
                  id: 1
                  last_name: last_name
                id: 1
                model_provider_connection: 1
                organization: 1
                parent_model: 1
                prompt: prompt
                provider: OpenAI
                provider_model_id: provider_model_id
                score: score
                title: title
                updated_at: '2024-01-15T09:30:00Z'
              prompt: prompt
              reasoning: reasoning
              refinement_job_id: refinement_job_id
              refinement_status: refinement_status
              title: title
              total_cost: total_cost
      audiences:
        - public
    refine_prompt:
      path: /api/prompts/{prompt_id}/versions/{version_id}/refine
      method: POST
      auth: true
      docs: >-
        Refine a prompt version using a teacher model and save the refined
        prompt as a new version.
      source:
        openapi: openapi/openapi.yaml
      path-parameters:
        prompt_id: integer
        version_id: integer
      display-name: Refine a prompt version
      request:
        name: RefinePromptRequestRequest
        query-parameters:
          async:
            type: optional<boolean>
            docs: Whether to run the refinement asynchronously
        body:
          properties:
            project_id:
              type: integer
              docs: Project ID to target the refined prompt for
            teacher_model_name:
              type: string
              docs: Name of the model to use to refine the prompt
              validation:
                minLength: 1
            teacher_model_provider_connection_id:
              type: integer
              docs: Model Provider Connection ID to use to refine the prompt
        content-type: application/json
      response:
        docs: Refined prompt response
        type: root.RefinedPromptResponse
      examples:
        - path-parameters:
            prompt_id: 1
            version_id: 1
          request:
            project_id: 1
            teacher_model_name: teacher_model_name
            teacher_model_provider_connection_id: 1
          response:
            body:
              previous_version:
                created_at: '2024-01-15T09:30:00Z'
                created_by:
                  avatar: avatar
                  email: email
                  first_name: first_name
                  id: 1
                  last_name: last_name
                id: 1
                model_provider_connection: 1
                organization: 1
                parent_model: 1
                prompt: prompt
                provider: OpenAI
                provider_model_id: provider_model_id
                score: score
                title: title
                updated_at: '2024-01-15T09:30:00Z'
              prompt: prompt
              reasoning: reasoning
              refinement_job_id: refinement_job_id
              refinement_status: refinement_status
              title: title
              total_cost: total_cost
      audiences:
        - public
  source:
    openapi: openapi/openapi.yaml
imports:
  root: ../__package__.yml
