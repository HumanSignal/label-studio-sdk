imports:
  root: ../__package__.yml
service:
  auth: false
  base-path: ''
  endpoints:
    list:
      path: /api/storages/s3/
      method: GET
      auth: true
      docs: Get a list of all S3 import storage connections.
      source:
        openapi: openapi/openapi.yaml
      display-name: List S3 import storage
      request:
        name: S3ListRequest
        query-parameters:
          ordering:
            type: optional<string>
            docs: Which field to use when ordering the results.
          project:
            type: integer
            docs: Project ID
      response:
        docs: ''
        type: list<root.S3ImportStorage>
      examples:
        - query-parameters:
            project: 1
          response:
            body:
              - aws_access_key_id: aws_access_key_id
                aws_secret_access_key: aws_secret_access_key
                aws_session_token: aws_session_token
                aws_sse_kms_key_id: aws_sse_kms_key_id
                bucket: bucket
                created_at: '2024-01-15T09:30:00Z'
                description: description
                id: 1
                last_sync: '2024-01-15T09:30:00Z'
                last_sync_count: 1
                last_sync_job: last_sync_job
                meta:
                  key: value
                prefix: prefix
                presign: true
                presign_ttl: 1
                project: 1
                recursive_scan: true
                regex_filter: regex_filter
                region_name: region_name
                s3_endpoint: s3_endpoint
                status: initialized
                synchronizable: true
                title: title
                traceback: traceback
                type: type
                use_blob_urls: true
      audiences:
        - public
    create:
      path: /api/storages/s3/
      method: POST
      auth: true
      docs: Create new S3 import storage
      source:
        openapi: openapi/openapi.yaml
      display-name: Create new S3 storage
      request:
        name: S3CreateRequest
        body:
          properties:
            aws_access_key_id:
              type: optional<string>
              docs: AWS_ACCESS_KEY_ID
            aws_secret_access_key:
              type: optional<string>
              docs: AWS_SECRET_ACCESS_KEY
            aws_session_token:
              type: optional<string>
              docs: AWS_SESSION_TOKEN
            aws_sse_kms_key_id:
              type: optional<string>
              docs: AWS SSE KMS Key ID
            bucket:
              type: optional<string>
              docs: S3 bucket name
            description:
              type: optional<string>
              docs: Storage description
            prefix:
              type: optional<string>
              docs: S3 bucket prefix
            presign:
              type: optional<boolean>
              docs: Presign URLs for download
              default: true
            presign_ttl:
              type: optional<integer>
              docs: Presign TTL in minutes
              default: 1
            project:
              type: optional<integer>
              docs: Project ID
            recursive_scan:
              type: optional<boolean>
              docs: Scan recursively
            regex_filter:
              type: optional<string>
              docs: >-
                Cloud storage regex for filtering objects. You must specify it
                otherwise no objects will be imported.
            region_name:
              type: optional<string>
              docs: AWS Region
            s3_endpoint:
              type: optional<string>
              docs: S3 Endpoint
            title:
              type: optional<string>
              docs: Storage title
              validation:
                maxLength: 2048
            use_blob_urls:
              type: optional<boolean>
              docs: >-
                Interpret objects as BLOBs and generate URLs. For example, if
                your bucket contains images, you can use this option to generate
                URLs for these images. If set to False, it will read the content
                of the file and load it into Label Studio.
              default: false
        content-type: application/json
      response:
        docs: ''
        type: root.S3ImportStorage
      examples:
        - request: {}
          response:
            body:
              aws_access_key_id: aws_access_key_id
              aws_secret_access_key: aws_secret_access_key
              aws_session_token: aws_session_token
              aws_sse_kms_key_id: aws_sse_kms_key_id
              bucket: bucket
              created_at: '2024-01-15T09:30:00Z'
              description: description
              id: 1
              last_sync: '2024-01-15T09:30:00Z'
              last_sync_count: 1
              last_sync_job: last_sync_job
              meta:
                key: value
              prefix: prefix
              presign: true
              presign_ttl: 1
              project: 1
              recursive_scan: true
              regex_filter: regex_filter
              region_name: region_name
              s3_endpoint: s3_endpoint
              status: initialized
              synchronizable: true
              title: title
              traceback: traceback
              type: type
              use_blob_urls: true
      audiences:
        - public
    validate:
      path: /api/storages/s3/validate
      method: POST
      auth: true
      docs: Validate a specific S3 import storage connection.
      source:
        openapi: openapi/openapi.yaml
      display-name: Validate import storage
      request:
        name: S3ValidateRequest
        body:
          properties:
            aws_access_key_id:
              type: optional<string>
              docs: AWS_ACCESS_KEY_ID
            aws_secret_access_key:
              type: optional<string>
              docs: AWS_SECRET_ACCESS_KEY
            aws_session_token:
              type: optional<string>
              docs: AWS_SESSION_TOKEN
            aws_sse_kms_key_id:
              type: optional<string>
              docs: AWS SSE KMS Key ID
            bucket:
              type: optional<string>
              docs: S3 bucket name
            description:
              type: optional<string>
              docs: Storage description
            id:
              type: optional<integer>
              docs: Storage ID. If set, storage with specified ID will be updated
            prefix:
              type: optional<string>
              docs: S3 bucket prefix
            presign:
              type: optional<boolean>
              docs: Presign URLs for download
              default: true
            presign_ttl:
              type: optional<integer>
              docs: Presign TTL in minutes
              default: 1
            project:
              type: optional<integer>
              docs: Project ID
            recursive_scan:
              type: optional<boolean>
              docs: Scan recursively
            regex_filter:
              type: optional<string>
              docs: >-
                Cloud storage regex for filtering objects. You must specify it
                otherwise no objects will be imported.
            region_name:
              type: optional<string>
              docs: AWS Region
            s3_endpoint:
              type: optional<string>
              docs: S3 Endpoint
            title:
              type: optional<string>
              docs: Storage title
              validation:
                maxLength: 2048
            use_blob_urls:
              type: optional<boolean>
              docs: >-
                Interpret objects as BLOBs and generate URLs. For example, if
                your bucket contains images, you can use this option to generate
                URLs for these images. If set to False, it will read the content
                of the file and load it into Label Studio.
              default: false
        content-type: application/json
      examples:
        - request: {}
      audiences:
        - public
    get:
      path: /api/storages/s3/{id}
      method: GET
      auth: true
      docs: Get a specific S3 import storage connection.
      source:
        openapi: openapi/openapi.yaml
      path-parameters:
        id: integer
      display-name: Get import storage
      response:
        docs: ''
        type: root.S3ImportStorage
      examples:
        - path-parameters:
            id: 1
          response:
            body:
              aws_access_key_id: aws_access_key_id
              aws_secret_access_key: aws_secret_access_key
              aws_session_token: aws_session_token
              aws_sse_kms_key_id: aws_sse_kms_key_id
              bucket: bucket
              created_at: '2024-01-15T09:30:00Z'
              description: description
              id: 1
              last_sync: '2024-01-15T09:30:00Z'
              last_sync_count: 1
              last_sync_job: last_sync_job
              meta:
                key: value
              prefix: prefix
              presign: true
              presign_ttl: 1
              project: 1
              recursive_scan: true
              regex_filter: regex_filter
              region_name: region_name
              s3_endpoint: s3_endpoint
              status: initialized
              synchronizable: true
              title: title
              traceback: traceback
              type: type
              use_blob_urls: true
      audiences:
        - public
    delete:
      path: /api/storages/s3/{id}
      method: DELETE
      auth: true
      docs: Delete a specific S3 import storage connection.
      source:
        openapi: openapi/openapi.yaml
      path-parameters:
        id: integer
      display-name: Delete import storage
      examples:
        - path-parameters:
            id: 1
      audiences:
        - public
    update:
      path: /api/storages/s3/{id}
      method: PATCH
      auth: true
      docs: Update a specific S3 import storage connection.
      source:
        openapi: openapi/openapi.yaml
      path-parameters:
        id: integer
      display-name: Update import storage
      request:
        name: S3UpdateRequest
        body:
          properties:
            aws_access_key_id:
              type: optional<string>
              docs: AWS_ACCESS_KEY_ID
            aws_secret_access_key:
              type: optional<string>
              docs: AWS_SECRET_ACCESS_KEY
            aws_session_token:
              type: optional<string>
              docs: AWS_SESSION_TOKEN
            aws_sse_kms_key_id:
              type: optional<string>
              docs: AWS SSE KMS Key ID
            bucket:
              type: optional<string>
              docs: S3 bucket name
            description:
              type: optional<string>
              docs: Storage description
            prefix:
              type: optional<string>
              docs: S3 bucket prefix
            presign:
              type: optional<boolean>
              docs: Presign URLs for download
              default: true
            presign_ttl:
              type: optional<integer>
              docs: Presign TTL in minutes
              default: 1
            project:
              type: optional<integer>
              docs: Project ID
            recursive_scan:
              type: optional<boolean>
              docs: Scan recursively
            regex_filter:
              type: optional<string>
              docs: >-
                Cloud storage regex for filtering objects. You must specify it
                otherwise no objects will be imported.
            region_name:
              type: optional<string>
              docs: AWS Region
            s3_endpoint:
              type: optional<string>
              docs: S3 Endpoint
            title:
              type: optional<string>
              docs: Storage title
              validation:
                maxLength: 2048
            use_blob_urls:
              type: optional<boolean>
              docs: >-
                Interpret objects as BLOBs and generate URLs. For example, if
                your bucket contains images, you can use this option to generate
                URLs for these images. If set to False, it will read the content
                of the file and load it into Label Studio.
              default: false
        content-type: application/json
      response:
        docs: ''
        type: root.S3ImportStorage
      examples:
        - path-parameters:
            id: 1
          request: {}
          response:
            body:
              aws_access_key_id: aws_access_key_id
              aws_secret_access_key: aws_secret_access_key
              aws_session_token: aws_session_token
              aws_sse_kms_key_id: aws_sse_kms_key_id
              bucket: bucket
              created_at: '2024-01-15T09:30:00Z'
              description: description
              id: 1
              last_sync: '2024-01-15T09:30:00Z'
              last_sync_count: 1
              last_sync_job: last_sync_job
              meta:
                key: value
              prefix: prefix
              presign: true
              presign_ttl: 1
              project: 1
              recursive_scan: true
              regex_filter: regex_filter
              region_name: region_name
              s3_endpoint: s3_endpoint
              status: initialized
              synchronizable: true
              title: title
              traceback: traceback
              type: type
              use_blob_urls: true
      audiences:
        - public
    sync:
      path: /api/storages/s3/{id}/sync
      method: POST
      auth: true
      docs: Sync tasks from an S3 import storage connection.
      source:
        openapi: openapi/openapi.yaml
      path-parameters:
        id:
          type: integer
          docs: Storage ID
      display-name: Sync import storage
      response:
        docs: ''
        type: root.S3ImportStorage
      examples:
        - path-parameters:
            id: 1
          response:
            body:
              aws_access_key_id: aws_access_key_id
              aws_secret_access_key: aws_secret_access_key
              aws_session_token: aws_session_token
              aws_sse_kms_key_id: aws_sse_kms_key_id
              bucket: bucket
              created_at: '2024-01-15T09:30:00Z'
              description: description
              id: 1
              last_sync: '2024-01-15T09:30:00Z'
              last_sync_count: 1
              last_sync_job: last_sync_job
              meta:
                key: value
              prefix: prefix
              presign: true
              presign_ttl: 1
              project: 1
              recursive_scan: true
              regex_filter: regex_filter
              region_name: region_name
              s3_endpoint: s3_endpoint
              status: initialized
              synchronizable: true
              title: title
              traceback: traceback
              type: type
              use_blob_urls: true
      audiences:
        - public
  source:
    openapi: openapi/openapi.yaml
