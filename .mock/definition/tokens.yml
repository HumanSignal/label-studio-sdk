imports:
  root: __package__.yml
service:
  auth: false
  base-path: ''
  endpoints:
    list:
      path: /api/token/
      method: GET
      auth: true
      docs: List all API tokens for the current user.
      source:
        openapi: openapi/openapi.yaml
      display-name: List API tokens
      request:
        name: TokensListRequest
        query-parameters:
          ordering:
            type: optional<string>
            docs: Which field to use when ordering the results.
      response:
        docs: ''
        type: list<root.LseapiTokenList>
      examples:
        - response:
            body:
              - token: token
                created_at: created_at
                expires_at: expires_at
      audiences:
        - public
    create:
      path: /api/token/
      method: POST
      auth: true
      docs: Create a new API token for the current user.
      source:
        openapi: openapi/openapi.yaml
      display-name: Create API token
      response:
        docs: ''
        type: root.LseapiTokenCreate
      examples:
        - response:
            body:
              token: token
              created_at: created_at
              expires_at: expires_at
      audiences:
        - public
    blacklist:
      path: /api/token/blacklist/
      method: POST
      auth: false
      docs: >-
        Adds a JWT refresh token to the blacklist, preventing it from being used
        to obtain new access tokens.
      source:
        openapi: openapi/openapi.yaml
      display-name: Blacklist a JWT refresh token
      request:
        name: LsapiTokenBlacklistRequest
        body:
          properties:
            refresh:
              type: string
              validation:
                minLength: 1
        content-type: application/json
      response:
        docs: ''
        type: map<string, unknown>
      errors:
        - root.NotFoundError
      examples:
        - request:
            refresh: refresh
          response:
            body:
              key: value
      audiences:
        - public
    refresh:
      path: /api/token/refresh/
      method: POST
      auth: false
      docs: Get a new access token, using a refresh token.
      source:
        openapi: openapi/openapi.yaml
      display-name: Refresh JWT token
      request:
        name: TokenRefreshRequest
        body:
          properties:
            refresh:
              type: string
              validation:
                minLength: 1
        content-type: application/json
      response:
        docs: ''
        type: root.TokenRefreshResponse
      examples:
        - request:
            refresh: refresh
          response:
            body:
              access: access
      audiences:
        - public
    rotate:
      path: /api/token/rotate/
      method: POST
      auth: true
      docs: Creates a new JWT refresh token and blacklists the current one.
      source:
        openapi: openapi/openapi.yaml
      display-name: Rotate JWT refresh token
      request:
        name: LsapiTokenRotateRequest
        body:
          properties:
            refresh:
              type: string
              validation:
                minLength: 1
        content-type: application/json
      response:
        docs: ''
        type: root.TokenRotateResponse
      errors:
        - root.BadRequestError
      examples:
        - request:
            refresh: refresh
          response:
            body:
              refresh: refresh
      audiences:
        - public
  source:
    openapi: openapi/openapi.yaml
