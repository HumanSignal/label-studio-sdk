# This file was auto-generated by Fern from our API Definition.

from label_studio_sdk import LabelStudio
from label_studio_sdk import AsyncLabelStudio
import typing
from .utilities import validate_response


async def test_info(client: LabelStudio, async_client: AsyncLabelStudio) -> None:
    expected_response: typing.Any = {
        "billing_checks": {
            "users": {"count": 110, "limit": 1000, "reached": False, "total": 221},
            "projects": {"count": 2044, "limit": 1000000, "reached": False, "total": 1},
            "results": {"count": 42949, "limit": 1000000000, "reached": False, "total": 1},
            "trial_days": 0,
            "organization_is_active": True,
            "license_issued": "2000-01-01",
            "license_warning": "2030-01-01",
            "is_license_warning": False,
            "license_expires": "2030-01-02",
            "is_license_expired": False,
            "prompts_enabled": True,
            "prompts_status": "Enabled",
            "prompts_warning": "prompts_warning",
            "is_prompts_warning": False,
            "prompts_expire": "prompts_expire",
            "is_prompts_expire": False,
            "prompts_api_keys_enabled": True,
            "import_storages": {"count": 0, "limit": 0, "reached": False, "total": 1},
            "export_storages": {"count": 0, "limit": 0, "reached": False, "total": 1},
        },
        "billing_flags": {
            "activated_at": "2024-01-15T09:30:00Z",
            "cloud_instance": True,
            "allow_activity_log": True,
            "allow_invite_project_experts": True,
            "allow_sso": True,
            "white_label_id": "white_label_id",
            "allow_data_credentials": False,
            "allow_organization_webhooks": False,
            "disable_members_page": False,
            "secure_mode": False,
            "manual_workspace_management": True,
            "manual_role_management": True,
            "hide_storage_settings_for_manager": False,
            "disable_project_imports": False,
            "automax_token_exists": True,
            "automax_enabled": True,
            "storage_persistence": True,
            "allow_ai": True,
            "early_adopter": True,
            "allow_ask_ai": True,
            "allow_invite_people": True,
            "allow_storage_proxy": True,
            "embed_enabled": True,
            "embed_domains": [{"domain": "http://localhost:3000"}, {"domain": "https://purple-zoos-flash.loca.lt"}],
            "embed_settings": {"public_verify_alg": ["RS256"], "public_verify_key": "...."},
        },
    }
    expected_types: typing.Any = {
        "billing_checks": {
            "users": {"count": "integer", "limit": "integer", "reached": None, "total": "integer"},
            "projects": {"count": "integer", "limit": "integer", "reached": None, "total": "integer"},
            "results": {"count": "integer", "limit": "integer", "reached": None, "total": "integer"},
            "trial_days": "integer",
            "organization_is_active": None,
            "license_issued": None,
            "license_warning": None,
            "is_license_warning": None,
            "license_expires": None,
            "is_license_expired": None,
            "prompts_enabled": None,
            "prompts_status": None,
            "prompts_warning": None,
            "is_prompts_warning": None,
            "prompts_expire": None,
            "is_prompts_expire": None,
            "prompts_api_keys_enabled": None,
            "import_storages": {"count": "integer", "limit": "integer", "reached": None, "total": "integer"},
            "export_storages": {"count": "integer", "limit": "integer", "reached": None, "total": "integer"},
        },
        "billing_flags": {
            "activated_at": "datetime",
            "cloud_instance": None,
            "allow_activity_log": None,
            "allow_invite_project_experts": None,
            "allow_sso": None,
            "white_label_id": None,
            "allow_data_credentials": None,
            "allow_organization_webhooks": None,
            "disable_members_page": None,
            "secure_mode": None,
            "manual_workspace_management": None,
            "manual_role_management": None,
            "hide_storage_settings_for_manager": None,
            "disable_project_imports": None,
            "automax_token_exists": None,
            "automax_enabled": None,
            "storage_persistence": None,
            "allow_ai": None,
            "early_adopter": None,
            "allow_ask_ai": None,
            "allow_invite_people": None,
            "allow_storage_proxy": None,
            "embed_enabled": None,
            "embed_domains": ("list", {0: ("dict", {0: (None, None)}), 1: ("dict", {0: (None, None)})}),
            "embed_settings": ("dict", {0: (None, None), 1: (None, None)}),
        },
    }
    response = client.billing.info()
    validate_response(response, expected_response, expected_types)

    async_response = await async_client.billing.info()
    validate_response(async_response, expected_response, expected_types)
