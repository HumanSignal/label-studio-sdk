# This file was auto-generated by Fern from our API Definition.

from label_studio_sdk import LabelStudio
from label_studio_sdk import AsyncLabelStudio
import typing
from .utilities import validate_response


async def test_reset_token(client: LabelStudio, async_client: AsyncLabelStudio) -> None:
    expected_response: typing.Any = {"token": "token", "invite_url": "invite_url"}
    expected_types: typing.Any = {"token": None, "invite_url": None}
    response = client.organizations.reset_token()
    validate_response(response, expected_response, expected_types)

    async_response = await async_client.organizations.reset_token()
    validate_response(async_response, expected_response, expected_types)


async def test_list_(client: LabelStudio, async_client: AsyncLabelStudio) -> None:
    expected_response: typing.Any = [
        {"id": 1, "title": "title", "contact_info": "contact_info", "created_at": "2024-01-15T09:30:00Z"}
    ]
    expected_types: typing.Tuple[typing.Any, typing.Any] = (
        "list",
        {0: {"id": "integer", "title": None, "contact_info": None, "created_at": "datetime"}},
    )
    response = client.organizations.list()
    validate_response(response, expected_response, expected_types)

    async_response = await async_client.organizations.list()
    validate_response(async_response, expected_response, expected_types)


async def test_get(client: LabelStudio, async_client: AsyncLabelStudio) -> None:
    expected_response: typing.Any = {
        "id": 1,
        "external_id": "external_id",
        "title": "title",
        "token": "token",
        "default_role": "OW",
        "created_at": "2024-01-15T09:30:00Z",
        "billing": {
            "manual_workspace_management": "manual_workspace_management",
            "manual_role_management": "manual_role_management",
        },
        "embed_domains": {"key": "value"},
        "embed_settings": {"key": "value"},
        "custom_scripts_enabled": "custom_scripts_enabled",
        "custom_scripts_editable_by": "AD",
    }
    expected_types: typing.Any = {
        "id": "integer",
        "external_id": None,
        "title": None,
        "token": None,
        "default_role": None,
        "created_at": "datetime",
        "billing": {"manual_workspace_management": None, "manual_role_management": None},
        "embed_domains": None,
        "embed_settings": None,
        "custom_scripts_enabled": None,
        "custom_scripts_editable_by": None,
    }
    response = client.organizations.get(id=1)
    validate_response(response, expected_response, expected_types)

    async_response = await async_client.organizations.get(id=1)
    validate_response(async_response, expected_response, expected_types)
